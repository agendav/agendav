/*

 FullCalendar v1.5.3-rcube-0.7.1
 https://github.com/roundcube/fullcalendar

 Use fullcalendar.css for basic styling.
 For event drag & drop, requires jQuery UI draggable.
 For event resizing, requires jQuery UI resizable.

 Copyright (c) 2011 Adam Shaw
 Copyright (c) 2011, Kolab Systems AG
 Dual licensed under the MIT and GPL licenses, located in
 MIT-LICENSE.txt and GPL-LICENSE.txt respectively.

 Date: Wed Mar 21 22:49:40 2012 +0100

*/
(function(o,sa){function Ab(a){o.extend(true,$a,a)}function $b(a,b,g){function c(l){if(H){u();R();aa();O(l)}else f()}function f(){P=b.theme?"ui":"fc";a.addClass("fc");b.isRTL&&a.addClass("fc-rtl");b.theme&&a.addClass("ui-widget");H=o("<div class='fc-content' style='position:relative'/>").prependTo(a);y=new ac(A,b);(Q=y.render())&&a.prepend(Q);r(b.defaultView);o(window).resize(la);d()||k()}function k(){setTimeout(function(){!i.start&&d()&&O()},0)}function q(){o(window).unbind("resize",la);y.destroy();
H.remove();a.removeClass("fc fc-rtl ui-widget")}function h(){return ma.offsetWidth!==0}function d(){return o("body")[0].offsetWidth!==0}function r(l){if(!i||l!=i.name){m++;ja();var s=i,da;if(s){(s.beforeHide||Bb)();ab(H,H.height());s.element.hide()}else ab(H,1);H.css("overflow","hidden");if(i=F[l])i.element.show();else i=F[l]=new Ha[l](da=ya=o("<div class='fc-view fc-view-"+l+"' style='position:absolute'/>").appendTo(H),A);s&&y.deactivateButton(s.name);y.activateButton(l);O();H.css("overflow","");
s&&ab(H,1);da||(i.afterShow||Bb)();m--}}function O(l){if(h()){m++;ja();fa===sa&&u();var s=false;if(!i.start||l||t<i.start||t>=i.end){i.render(t,l||0);B(true);s=true}else if(i.sizeDirty){i.clearEvents();B();s=true}else if(i.eventsDirty){i.clearEvents();s=true}i.sizeDirty=false;i.eventsDirty=false;ea(s);ga=a.outerWidth();y.updateTitle(i.title);l=new Date;l>=i.start&&l<i.end?y.disableButton("today"):y.enableButton("today");m--;i.trigger("viewDisplay",ma)}}function L(){R();if(h()){u();B();ja();i.clearEvents();
i.trigger("viewRender",i);i.renderEvents(X);i.sizeDirty=false}}function R(){o.each(F,function(l,s){s.sizeDirty=true})}function u(){fa=b.contentHeight?b.contentHeight:b.height?b.height-(Q?Q.height():0)-Ua(H):Math.round(H.width()/Math.max(b.aspectRatio,0.5))}function B(l){m++;i.setHeight(fa,l);if(ya){ya.css("position","relative");ya=null}i.setWidth(H.width(),l);m--}function la(){if(!m)if(i.start){var l=++j;setTimeout(function(){if(l==j&&!m&&h())if(ga!=(ga=a.outerWidth())){m++;L();i.trigger("windowResize",
ma);m--}},200)}else k()}function ea(l){if(!b.lazyFetching||ha(i.visStart,i.visEnd))na();else l&&V()}function na(l){E(i.visStart,i.visEnd,l)}function T(l){X=l;V()}function N(l){V(l)}function V(l){aa();if(h()){i.clearEvents();i.trigger("viewRender",i);i.renderEvents(X,l);i.eventsDirty=false}}function aa(){o.each(F,function(l,s){s.eventsDirty=true})}function Z(l,s,da){i.select(l,s,da===sa?true:da)}function ja(){i&&i.unselect()}function v(){O(-1)}function C(){O(1)}function ba(){jb(t,-1);O()}function W(){jb(t,
1);O()}function w(){t=new Date;O()}function p(l,s,da){if(l instanceof Date)t=G(l);else Cb(t,l,s,da);O()}function I(l,s,da){l!==sa&&jb(t,l);s!==sa&&kb(t,s);da!==sa&&ka(t,da);O()}function Y(){return G(t)}function ca(){return i}function e(l,s){if(s===sa)return b[l];if(l=="height"||l=="contentHeight"||l=="aspectRatio"){b[l]=s;L()}else if(l.indexOf("list")==0||l=="tableCols"){b[l]=s;i.start=null}else if(l=="maxHeight")b[l]=s}function M(l,s){if(b[l])return b[l].apply(s||ma,Array.prototype.slice.call(arguments,
2))}var A=this;A.options=b;A.render=c;A.destroy=q;A.refetchEvents=na;A.reportEvents=T;A.reportEventChange=N;A.rerenderEvents=V;A.changeView=r;A.select=Z;A.unselect=ja;A.prev=v;A.next=C;A.prevYear=ba;A.nextYear=W;A.today=w;A.gotoDate=p;A.incrementDate=I;A.formatDate=function(l,s){return Pa(l,s,b)};A.formatDates=function(l,s,da){return lb(l,s,da,b)};A.getDate=Y;A.getView=ca;A.option=e;A.trigger=M;bc.call(A,b,g);var ha=A.isFetchNeeded,E=A.fetchEvents,ma=a[0],y,Q,H,P,i,F={},ga,fa,ya,j=0,m=0,t=new Date,
X=[],z;Cb(t,b.year,b.month,b.date);b.droppable&&o(document).bind("dragstart",function(l,s){var da=l.target,pa=o(da);if(!pa.parents(".fc").length){var ra=b.dropAccept;if(o.isFunction(ra)?ra.call(da,pa):pa.is(ra)){z=da;i.dragStart(z,l,s)}}}).bind("dragstop",function(l,s){if(z){i.dragStop(z,l,s);z=null}})}function ac(a,b){function g(){R=b.theme?"ui":"fc";if(b.header)return L=o("<table class='fc-header' style='width:100%'/>").append(o("<tr/>").append(f("left")).append(f("center")).append(f("right")))}
function c(){L.remove()}function f(u){var B=o("<td class='fc-header-"+u+"'/>");(u=b.header[u])&&o.each(u.split(" "),function(la){la>0&&B.append("<span class='fc-header-space'/>");var ea;o.each(this.split(","),function(na,T){if(T=="title"){B.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>");ea&&ea.addClass(R+"-corner-right");ea=null}else{var N;if(a[T])N=a[T];else if(Ha[T])N=function(){aa.removeClass(R+"-state-hover");a.changeView(T)};if(N){na=b.theme?mb(b.buttonIcons,T):null;var V=mb(b.buttonText,
T),aa=o("<span class='fc-button "+(R=="ui"?"ui-button":"")+" fc-button-"+T+" "+R+"-state-default'><span class='fc-button-inner'><span class='fc-button-content'>"+(na?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+na+"'/></span>":V)+"</span><span class='fc-button-effect'><span></span></span></span></span>");if(aa){aa.click(function(){aa.hasClass(R+"-state-disabled")||N()}).mousedown(function(){aa.not("."+R+"-state-active").not("."+R+"-state-disabled").addClass(R+"-state-down")}).mouseup(function(){aa.removeClass(R+
"-state-down")}).hover(function(){aa.not("."+R+"-state-active").not("."+R+"-state-disabled").addClass(R+"-state-hover")},function(){aa.removeClass(R+"-state-hover").removeClass(R+"-state-down")}).appendTo(B);ea||aa.addClass(R+"-corner-left");ea=aa}}}});ea&&ea.addClass(R+"-corner-right")});return B}function k(u){L.find("h2").html(u)}function q(u){L.find("span.fc-button-"+u).addClass(R+"-state-active")}function h(u){L.find("span.fc-button-"+u).removeClass(R+"-state-active")}function d(u){L.find("span.fc-button-"+
u).addClass(R+"-state-disabled")}function r(u){L.find("span.fc-button-"+u).removeClass(R+"-state-disabled")}var O=this;O.render=g;O.destroy=c;O.updateTitle=k;O.activateButton=q;O.deactivateButton=h;O.disableButton=d;O.enableButton=r;var L=o([]),R}function bc(a,b){function g(e,M){return!C||e<C||M>ba}function c(e,M,A){C=e;ba=M;W=e.getTimezoneOffset()*60*1E3;w=M.getTimezoneOffset()*60*1E3;ca=typeof A!="undefined"?o.grep(ca,function(E){return!na(E.source,A)}):[];e=++p;M=v.length;I=typeof A=="undefined"?
M:1;for(var ha=0;ha<M;ha++)if(typeof A=="undefined"||na(v[ha],A))f(v[ha],e)}function f(e,M){k(e,function(A){if(M==p){if(A){for(var ha=0;ha<A.length;ha++){A[ha].source=e;la(A[ha])}ca=ca.concat(A)}I--;I||Z(ca)}})}function k(e,M){var A,ha=Aa.sourceFetchers,E;for(A=0;A<ha.length;A++){E=ha[A](e,C,ba,M);if(E===true)return;else if(typeof E=="object"){k(E,M);return}}if(A=e.events)if(o.isFunction(A)){u();A(G(C),G(ba),function(P){M(P);B()})}else o.isArray(A)?M(A):M();else if(e.url){var ma=e.success,y=e.error,
Q=e.complete;A=o.extend({},e.data||{});E=Va(e.startParam,a.startParam);ha=Va(e.endParam,a.endParam);if(E){var H=C;if(e.startParamUTC)H-=W;A[E]=Math.round(+H/1E3)}if(ha){E=ba;if(e.endParamUTC)E-=w;A[ha]=Math.round(+E/1E3)}u();o.ajax(o.extend({},cc,e,{data:A,success:function(P){P=P||[];var i=bb(ma,this,arguments);if(o.isArray(i))P=i;M(P)},error:function(){bb(y,this,arguments);M()},complete:function(){bb(Q,this,arguments);B()}}))}else M()}function q(e){if(e=h(e)){I++;f(e,p)}}function h(e){if(o.isFunction(e)||
o.isArray(e))e={events:e};else if(typeof e=="string")e={url:e};if(typeof e=="object"){ea(e);v.push(e);return e}}function d(e){v=o.grep(v,function(M){return!na(M,e)});ca=o.grep(ca,function(M){return!na(M.source,e)});Z(ca)}function r(e){var M,A=ca.length,ha,E=aa().defaultEventEnd,ma=e.start-e._start,y=e.end?e.end-(e._end||E(e)):0;for(M=0;M<A;M++){ha=ca[M];if(ha._id==e._id&&ha!=e){ha.start=new Date(+ha.start+ma);ha.end=e.end?ha.end?new Date(+ha.end+y):new Date(+E(ha)+y):null;ha.title=e.title;ha.url=
e.url;ha.allDay=e.allDay;ha.className=e.className;ha.editable=e.editable;ha.color=e.color;ha.backgroudColor=e.backgroudColor;ha.borderColor=e.borderColor;ha.textColor=e.textColor;la(ha)}}la(e);Z(ca)}function O(e,M){la(e);if(!e.source)if(M){ja.events.push(e);e.source=ja}ca.push(e);Z(ca)}function L(e){if(e){if(!o.isFunction(e)){var M=e+"";e=function(ha){return ha._id==M}}ca=o.grep(ca,e,true);for(A=0;A<v.length;A++)if(o.isArray(v[A].events))v[A].events=o.grep(v[A].events,e,true)}else{ca=[];for(var A=
0;A<v.length;A++)if(o.isArray(v[A].events))v[A].events=[]}Z(ca)}function R(e){if(o.isFunction(e))return o.grep(ca,e);else if(e){e+="";return o.grep(ca,function(M){return M._id==e})}return ca}function u(){Y++||V("loading",null,true)}function B(){--Y||V("loading",null,false)}function la(e){var M=e.source||{},A=Va(M.ignoreTimezone,a.ignoreTimezone);e._id=e._id||(e.id===sa?"_fc"+dc++:e.id+"");if(e.date){if(!e.start)e.start=e.date;delete e.date}e._start=G(e.start=nb(e.start,A));e.end=nb(e.end,A);if(e.end&&
e.end<=e.start)e.end=null;e._end=e.end?G(e.end):null;if(e.allDay===sa)e.allDay=Va(M.allDayDefault,a.allDayDefault);if(e.className){if(typeof e.className=="string")e.className=e.className.split(/\s+/)}else e.className=[]}function ea(e){if(e.className){if(typeof e.className=="string")e.className=e.className.split(/\s+/)}else e.className=[];for(var M=Aa.sourceNormalizers,A=0;A<M.length;A++)M[A](e)}function na(e,M){return e&&M&&T(e)==T(M)}function T(e){return(typeof e=="object"?e.events||e.url:"")||e}
var N=this;N.isFetchNeeded=g;N.fetchEvents=c;N.addEventSource=q;N.removeEventSource=d;N.updateEvent=r;N.renderEvent=O;N.removeEvents=L;N.clientEvents=R;N.normalizeEvent=la;var V=N.trigger,aa=N.getView,Z=N.reportEvents,ja={events:[]},v=[ja],C,ba,W,w,p=0,I=0,Y=0,ca=[];for(N=0;N<b.length;N++)h(b[N])}function jb(a,b,g){a.setFullYear(a.getFullYear()+b);g||Ia(a);return a}function kb(a,b,g){if(+a){b=a.getMonth()+b;var c=G(a);c.setDate(1);c.setMonth(b);a.setMonth(b);for(g||Ia(a);a.getMonth()!=c.getMonth();)a.setDate(a.getDate()+
(a<c?1:-1))}return a}function ka(a,b,g){if(+a){b=a.getDate()+b;var c=G(a);c.setHours(9);c.setDate(b);a.setDate(b);g||Ia(a);ob(a,c)}return a}function ob(a,b){if(+a)for(;a.getDate()!=b.getDate();)a.setTime(+a+(a<b?1:-1)*ec)}function xa(a,b){a.setMinutes(a.getMinutes()+b);return a}function Ia(a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);return a}function G(a,b){if(b)return Ia(new Date(+a));return new Date(+a)}function Db(){var a=0,b;do b=new Date(1970,a++,1);while(b.getHours());
return b}function Ja(a,b,g){for(b=b||1;!a.getDay()||g&&a.getDay()==1||!g&&a.getDay()==6;)ka(a,b);return a}function Ba(a,b){return Math.round((G(a,true)-G(b,true))/Qa)}function Cb(a,b,g,c){if(b!==sa&&b!=a.getFullYear()){a.setDate(1);a.setMonth(0);a.setFullYear(b)}if(g!==sa&&g!=a.getMonth()){a.setDate(1);a.setMonth(g)}c!==sa&&a.setDate(c)}function nb(a,b){if(typeof a=="object")return a;if(typeof a=="number")return new Date(a*1E3);if(typeof a=="string"){if(a.match(/^\d+(\.\d+)?$/))return new Date(parseFloat(a)*
1E3);if(b===sa)b=true;return Eb(a,b)||(a?new Date(a):null)}return null}function Eb(a,b){a=a.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!a)return null;var g=new Date(a[1],0,1);if(b||!a[13]){b=new Date(a[1],0,1,9,0);if(a[3]){g.setMonth(a[3]-1);b.setMonth(a[3]-1)}if(a[5]){g.setDate(a[5]);b.setDate(a[5])}ob(g,b);a[7]&&g.setHours(a[7]);a[8]&&g.setMinutes(a[8]);a[10]&&g.setSeconds(a[10]);a[12]&&g.setMilliseconds(Number("0."+
a[12])*1E3);ob(g,b)}else{g.setUTCFullYear(a[1],a[3]?a[3]-1:0,a[5]||1);g.setUTCHours(a[7]||0,a[8]||0,a[10]||0,a[12]?Number("0."+a[12])*1E3:0);if(a[14]){b=Number(a[16])*60+(a[18]?Number(a[18]):0);b*=a[15]=="-"?1:-1;g=new Date(+g+b*60*1E3)}}return g}function pb(a){if(typeof a=="number")return a*60;if(typeof a=="object")return a.getHours()*60+a.getMinutes();if(a=a.match(/(\d+)(?::(\d+))?\s*(\w+)?/)){var b=parseInt(a[1],10);if(a[3]){b%=12;if(a[3].toLowerCase().charAt(0)=="p")b+=12}return b*60+(a[2]?parseInt(a[2],
10):0)}}function Pa(a,b,g){return lb(a,null,b,g)}function lb(a,b,g,c){c=c||$a;var f=a,k=b,q,h=g.length,d,r,O,L="";for(q=0;q<h;q++){d=g.charAt(q);if(d=="'")for(r=q+1;r<h;r++){if(g.charAt(r)=="'"){if(f){L+=r==q+1?"'":g.substring(q+1,r);q=r}break}}else if(d=="(")for(r=q+1;r<h;r++){if(g.charAt(r)==")"){q=Pa(f,g.substring(q+1,r),c);if(parseInt(q.replace(/\D/,""),10))L+=q;q=r;break}}else if(d=="[")for(r=q+1;r<h;r++){if(g.charAt(r)=="]"){d=g.substring(q+1,r);q=Pa(f,d,c);if(q!=Pa(k,d,c))L+=q;q=r;break}}else if(d==
"{"){f=b;k=a}else if(d=="}"){f=a;k=b}else{for(r=h;r>q;r--)if(O=fc[g.substring(q,r)]){if(f)L+=O(f,c);q=r-1;break}if(r==q)if(f)L+=d}}return L}function Wa(a){return a.end?gc(a.end,a.allDay):ka(G(a.start),1)}function gc(a,b){a=G(a);return b||a.getHours()||a.getMinutes()?ka(a,1):Ia(a)}function hc(a,b){return(b.msLength-a.msLength)*100+(a.event.start-b.event.start)}function Fb(a,b){return a.end>b.start&&a.start<b.end}function qb(a,b,g,c){var f=[],k,q=a.length,h,d,r,O,L;for(k=0;k<q;k++){h=a[k];d=h.start;
r=b[k];if(r>g&&d<c){if(d<g){d=G(g);O=false}else{d=d;O=true}if(r>c){r=G(c);L=false}else{r=r;L=true}f.push({event:h,start:d,end:r,isStart:O,isEnd:L,msLength:r-d})}}return f.sort(hc)}function rb(a){var b=[],g,c=a.length,f,k,q,h;for(g=0;g<c;g++){f=a[g];for(k=0;;){q=false;if(b[k])for(h=0;h<b[k].length;h++)if(Fb(b[k][h],f)){q=true;break}if(q)k++;else break}if(b[k])b[k].push(f);else b[k]=[f]}return b}function Gb(a,b,g){a.unbind("mouseover").mouseover(function(c){for(var f=c.target,k;f!=this;){k=f;f=f.parentNode}if((f=
k._fci)!==sa){k._fci=sa;k=b[f];g(k.event,k.element,k);o(c.target).trigger(c)}c.stopPropagation()})}function Xa(a,b,g){for(var c=0,f;c<a.length;c++){f=o(a[c]);f.width(Math.max(0,b-sb(f,g)))}}function Hb(a,b,g){for(var c=0,f;c<a.length;c++){f=o(a[c]);f.height(Math.max(0,b-Ua(f,g)))}}function sb(a,b){return ic(a)+jc(a)+(b?kc(a):0)}function ic(a){return(parseFloat(o.curCSS(a[0],"paddingLeft",true))||0)+(parseFloat(o.curCSS(a[0],"paddingRight",true))||0)}function kc(a){return(parseFloat(o.curCSS(a[0],
"marginLeft",true))||0)+(parseFloat(o.curCSS(a[0],"marginRight",true))||0)}function jc(a){return(parseFloat(o.curCSS(a[0],"borderLeftWidth",true))||0)+(parseFloat(o.curCSS(a[0],"borderRightWidth",true))||0)}function Ua(a,b){return lc(a)+mc(a)+(b?Ib(a):0)}function lc(a){return(parseFloat(o.curCSS(a[0],"paddingTop",true))||0)+(parseFloat(o.curCSS(a[0],"paddingBottom",true))||0)}function Ib(a){return(parseFloat(o.curCSS(a[0],"marginTop",true))||0)+(parseFloat(o.curCSS(a[0],"marginBottom",true))||0)}
function mc(a){return(parseFloat(o.curCSS(a[0],"borderTopWidth",true))||0)+(parseFloat(o.curCSS(a[0],"borderBottomWidth",true))||0)}function ab(a,b){b=typeof b=="number"?b+"px":b;a.each(function(g,c){c.style.cssText+=";min-height:"+b+";_height:"+b})}function Bb(){}function Jb(a,b){return a-b}function Kb(a){return Math.max.apply(Math,a)}function Ra(a){return(a<10?"0":"")+a}function mb(a,b){if(a[b]!==sa)return a[b];b=b.split(/(?=[A-Z])/);for(var g=b.length-1,c;g>=0;g--){c=a[b[g].toLowerCase()];if(c!==
sa)return c}return a[""]}function Ea(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function Lb(a){return a.id+"/"+a.className+"/"+a.style.cssText.replace(/(^|;)\s*(top|left|width|height)\s*:[^;]*/ig,"")}function tb(a){a.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})}function Sa(a){a.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}
function ub(a,b){a.each(function(g,c){c.className=c.className.replace(/^fc-\w*/,"fc-"+Mb[b.getDay()])})}function cb(a,b){var g=a.source||{},c=a.color,f=g.color,k=b("eventColor"),q=a.backgroundColor||c||g.backgroundColor||f||b("eventBackgroundColor")||k;c=a.borderColor||c||g.borderColor||f||b("eventBorderColor")||k;a=a.textColor||g.textColor||b("eventTextColor");b=[];q&&b.push("background-color:"+q);c&&b.push("border-color:"+c);a&&b.push("color:"+a);return b.join(";")}function bb(a,b,g){if(o.isFunction(a))a=
[a];if(a){var c,f;for(c=0;c<a.length;c++)f=a[c].apply(b,g)||f;return f}}function Va(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==sa)return arguments[a]}function nc(a,b){function g(h,d){if(d){kb(h,d);h.setDate(1)}h=G(h,true);h.setDate(1);d=kb(G(h),1);var r=G(h),O=G(d),L=f("firstDay"),R=f("weekends")?0:1;if(R){Ja(r);Ja(O,-1,true)}ka(r,-((r.getDay()-Math.max(L,R)+7)%7));ka(O,(7-O.getDay()+Math.max(L,R))%7);L=Math.round((O-r)/(Qa*7));if(f("weekMode")=="fixed"){ka(O,(6-L)*7);L=6}c.title=q(h,
f("titleFormat"));c.start=h;c.end=d;c.visStart=r;c.visEnd=O;k(6,L,R?5:7,true)}var c=this;c.render=g;vb.call(c,a,b,"month");var f=c.opt,k=c.renderBasic,q=b.formatDate}function oc(a,b){function g(h,d){d&&ka(h,d*7);h=ka(G(h),-((h.getDay()-f("firstDay")+7)%7));d=ka(G(h),7);var r=G(h),O=G(d),L=f("weekends");if(!L){Ja(r);Ja(O,-1,true)}c.title=q(r,ka(G(O),-1),f("titleFormat"));c.start=h;c.end=d;c.visStart=r;c.visEnd=O;k(1,1,L?7:5,false)}var c=this;c.render=g;vb.call(c,a,b,"basicWeek");var f=c.opt,k=c.renderBasic,
q=b.formatDates}function pc(a,b){function g(h,d){if(d){ka(h,d);f("weekends")||Ja(h,d<0?-1:1)}c.title=q(h,f("titleFormat"));c.start=c.visStart=G(h,true);c.end=c.visEnd=ka(G(c.start),1);k(1,1,1,false)}var c=this;c.render=g;vb.call(c,a,b,"basicDay");var f=c.opt,k=c.renderBasic,q=b.formatDate}function vb(a,b,g){function c(x,J,$,S){j=J;m=$;f();(J=!y)?k(x,S):ca();q(J)}function f(){if(l=I("isRTL")){s=-1;da=m-1}else{s=1;da=0}pa=I("firstDay");ra=I("weekends")?0:1;qa=I("theme")?"ui":"fc";ua=I("columnFormat")}
function k(x,J){var $,S=qa+"-widget-header",oa=qa+"-widget-content",ia;$="<table class='fc-border-separate' style='width:100%' cellspacing='0'><thead><tr>";for(ia=0;ia<m;ia++)$+="<th class='fc- "+S+"'/>";$+="</tr></thead><tbody>";for(ia=0;ia<x;ia++){$+="<tr class='fc-week"+ia+"'>";for(S=0;S<m;S++)$+="<td class='fc- "+oa+" fc-day"+(ia*m+S)+"'><div>"+(J?"<div class='fc-day-number'/>":"")+"<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";$+="</tr>"}$+="</tbody></table>";
x=o($).appendTo(a);E=x.find("thead");ma=E.find("th");y=x.find("tbody");Q=y.find("tr");H=y.find("td");P=H.filter(":first-child");i=Q.eq(0).find("div.fc-day-content div");Sa(E.add(E.find("tr")));Sa(Q);Q.eq(0).addClass("fc-first");r(H);F=o("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(a)}function q(x){var J=x||j==1,$=p.start.getMonth(),S=Ia(new Date),oa,ia,va;J&&ma.each(function(wa,Ca){oa=o(Ca);ia=C(wa);oa.html(ha(ia,ua));ub(oa,ia)});H.each(function(wa,Ca){oa=o(Ca);ia=C(wa);ia.getMonth()==
$?oa.removeClass("fc-other-month"):oa.addClass("fc-other-month");+ia==+S?oa.addClass(qa+"-state-highlight fc-today"):oa.removeClass(qa+"-state-highlight fc-today");oa.find("div.fc-day-number").text(ia.getDate());J&&ub(oa,ia)});Q.each(function(wa,Ca){va=o(Ca);if(wa<j){va.show();wa==j-1?va.addClass("fc-last"):va.removeClass("fc-last")}else va.hide()})}function h(x){fa=x;x=fa-E.height();var J,$,S;if(I("weekMode")=="variable")J=$=Math.floor(x/(j==1?2:6));else{J=Math.floor(x/j);$=x-J*(j-1)}P.each(function(oa,
ia){if(oa<j){S=o(ia);ab(S.find("> div"),(oa==j-1?$:J)-Ua(S))}})}function d(x){ga=x;z.clear();ya=Math.floor(ga/m);Xa(ma.slice(0,-1),ya)}function r(x){x.click(O).mousedown(A)}function O(x){if(!I("selectable")){var J=parseInt(this.className.match(/fc\-day(\d+)/)[1]);J=C(J);Y("dayClick",this,J,true,x)}}function L(x,J,$){$&&t.build();$=G(p.visStart);for(var S=ka(G($),m),oa=0;oa<j;oa++){var ia=new Date(Math.max($,x)),va=new Date(Math.min(S,J));if(ia<va){var wa;if(l){wa=Ba(va,$)*s+da+1;ia=Ba(ia,$)*s+da+
1}else{wa=Ba(ia,$);ia=Ba(va,$)}r(R(oa,wa,oa,ia-1))}ka($,7);ka(S,7)}}function R(x,J,$,S){x=t.rect(x,J,$,S,a);return e(x,a)}function u(x){return G(x)}function B(x,J){L(x,ka(G(J),1),true)}function la(){M()}function ea(x,J,$){var S=Z(x);Y("dayClick",H[S.row*m+S.col],x,J,$)}function na(x,J){X.start(function($){M();$&&R($.row,$.col,$.row,$.col)},J)}function T(x,J,$){var S=X.stop();M();if(S){S=ja(S);Y("drop",x,S,true,J,$)}}function N(x){return G(x.start)}function V(x){return z.left(x)}function aa(x){return z.right(x)}
function Z(x){return{row:Math.floor(Ba(x,p.visStart)/7),col:ba(x.getDay())}}function ja(x){return v(x.row,x.col)}function v(x,J){return ka(G(p.visStart),x*7+J*s+da)}function C(x){return v(Math.floor(x/m),x%m)}function ba(x){return(x-Math.max(pa,ra)+m)%m*s+da}function W(x){return Q.eq(x)}function w(){return{left:0,right:ga}}var p=this;p.renderBasic=c;p.setHeight=h;p.setWidth=d;p.renderDayOverlay=L;p.defaultSelectionEnd=u;p.renderSelection=B;p.clearSelection=la;p.reportDayClick=ea;p.dragStart=na;p.dragStop=
T;p.defaultEventEnd=N;p.getHoverListener=function(){return X};p.colContentLeft=V;p.colContentRight=aa;p.dayOfWeekCol=ba;p.dateCell=Z;p.cellDate=ja;p.cellIsAllDay=function(){return true};p.allDayRow=W;p.allDayBounds=w;p.getRowCnt=function(){return j};p.getColCnt=function(){return m};p.getColWidth=function(){return ya};p.getDaySegmentContainer=function(){return F};db.call(p,a,b,g);Nb.call(p);Ob.call(p);qc.call(p);var I=p.opt,Y=p.trigger,ca=p.clearEvents,e=p.renderOverlay,M=p.clearOverlays,A=p.daySelectionMousedown,
ha=b.formatDate,E,ma,y,Q,H,P,i,F,ga,fa,ya,j,m,t,X,z,l,s,da,pa,ra,qa,ua;tb(a.addClass("fc-grid"));t=new Pb(function(x,J){var $,S,oa;ma.each(function(ia,va){$=o(va);S=$.offset().left;if(ia)oa[1]=S;oa=[S];J[ia]=oa});oa[1]=S+$.outerWidth();Q.each(function(ia,va){if(ia<j){$=o(va);S=$.offset().top;if(ia)oa[1]=S;oa=[S];x[ia]=oa}});oa[1]=S+$.outerHeight()});X=new Qb(t);z=new Rb(function(x){return i.eq(x)})}function qc(){function a(v,C){O(v);Z(g(v),C)}function b(){L();ea().empty()}function g(v){var C=V(),
ba=aa(),W=G(k.visStart);ba=ka(G(W),ba);var w=o.map(v,Wa),p,I,Y,ca,e,M,A=[];for(p=0;p<C;p++){I=rb(qb(v,w,W,ba));for(Y=0;Y<I.length;Y++){ca=I[Y];for(e=0;e<ca.length;e++){M=ca[e];M.row=p;M.level=Y;A.push(M)}}ka(W,7);ka(ba,7)}return A}function c(v,C,ba){d(v)&&f(v,C);ba.isEnd&&r(v)&&ja(v,C,ba);R(v,C)}function f(v,C){var ba=na(),W;C.draggable({zIndex:9,delay:50,opacity:q("dragOpacity"),revertDuration:q("dragRevertDuration"),start:function(w,p){h("eventDragStart",C,v,w,p);B(v,C);ba.start(function(I,Y,ca,
e){C.draggable("option","revert",!I||!ca&&!e);N();if(I){W=ca*7+e*(q("isRTL")?-1:1);T(ka(G(v.start),W),ka(Wa(v),W))}else W=0},w,"drag")},stop:function(w,p){ba.stop();N();h("eventDragStop",C,v,w,p);if(W)la(this,v,W,0,v.allDay,w,p);else{C.css("filter","");u(v,C)}}})}var k=this;k.renderEvents=a;k.compileDaySegs=g;k.clearEvents=b;k.bindDaySeg=c;wb.call(k);var q=k.opt,h=k.trigger,d=k.isEventDraggable,r=k.isEventResizable,O=k.reportEvents,L=k.reportEventClear,R=k.eventElementHandlers,u=k.showEvents,B=k.hideEvents,
la=k.eventDrop,ea=k.getDaySegmentContainer,na=k.getHoverListener,T=k.renderDayOverlay,N=k.clearOverlays,V=k.getRowCnt,aa=k.getColCnt,Z=k.renderDaySegs,ja=k.resizableDayEvent}function rc(a,b){function g(h,d){d&&ka(h,d*7);h=ka(G(h),-((h.getDay()-f("firstDay")+7)%7));d=ka(G(h),7);var r=G(h),O=G(d),L=f("weekends");if(!L){Ja(r);Ja(O,-1,true)}c.title=q(r,ka(G(O),-1),f("titleFormat"));c.start=h;c.end=d;c.visStart=r;c.visEnd=O;k(L?7:5)}var c=this;c.render=g;Sb.call(c,a,b,"agendaWeek");var f=c.opt,k=c.renderAgenda,
q=b.formatDates}function sc(a,b){function g(h,d){if(d){ka(h,d);f("weekends")||Ja(h,d<0?-1:1)}d=G(h,true);var r=ka(G(d),1);c.title=q(h,f("titleFormat"));c.start=c.visStart=d;c.end=c.visEnd=r;k(1)}var c=this;c.render=g;Sb.call(c,a,b,"agendaDay");var f=c.opt,k=c.renderAgenda,q=b.formatDate}function Sb(a,b,g){function c(n){Da=n;f();j?Q():k();q()}function f(){Ya=ma("theme")?"ui":"fc";Tb=ma("weekends")?0:1;Ub=ma("firstDay");if(Vb=ma("isRTL")){Ka=-1;La=Da-1}else{Ka=1;La=0}Ma=pb(ma("minTime"));eb=pb(ma("maxTime"));
Wb=ma("columnFormat")}function k(){var n=Ya+"-widget-header",U=Ya+"-widget-content",K,D,ta,za,Fa,Ga=ma("slotMinutes")%15==0;K="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'><thead><tr><th class='fc-agenda-axis "+n+"'>&nbsp;</th>";for(D=0;D<Da;D++)K+="<th class='fc- fc-col"+D+" "+n+"'/>";K+="<th class='fc-agenda-gutter "+n+"'>&nbsp;</th></tr></thead><tbody><tr><th class='fc-agenda-axis "+n+"'>&nbsp;</th>";for(D=0;D<Da;D++)K+="<td class='fc- fc-col"+D+" "+U+"'><div><div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>";
K+="<td class='fc-agenda-gutter "+U+"'>&nbsp;</td></tr></tbody></table>";j=o(K).appendTo(a);m=j.find("thead");t=m.find("th").slice(1,-1);X=j.find("tbody");z=X.find("td").slice(0,-1);l=z.find("div.fc-day-content div");s=z.eq(0);da=s.find("> div");Sa(m.add(m.find("tr")));Sa(X.add(X.find("tr")));ia=m.find("th:first");va=j.find(".fc-agenda-gutter");pa=o("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(a);if(ma("allDaySlot")){ra=o("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(pa);
K="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+n+" fc-agenda-axis'>"+ma("allDayText")+"</th><td><div class='fc-day-content'><div style='position:relative'/></div></td><th class='"+n+" fc-agenda-gutter'>&nbsp;</th></tr></table>";qa=o(K).appendTo(pa);ua=qa.find("tr");R(ua.find("td"));ia=ia.add(qa.find("th:first"));va=va.add(qa.find("th.fc-agenda-gutter"));pa.append("<div class='fc-agenda-divider "+n+"'><div class='fc-agenda-divider-inner'/></div>")}else ra=o([]);
x=o("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(pa);J=o("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(x);$=o("<div style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(J);K="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>";ta=Db();za=xa(G(ta),eb);xa(ta,Ma);for(D=xb=0;ta<za;D++){Fa=ta.getMinutes();K+="<tr class='fc-slot"+D+" "+(!Fa?"":"fc-minor")+"'><th class='fc-agenda-axis "+n+"'>"+(!Ga||!Fa?
ya(ta,ma("axisFormat")):"&nbsp;")+"</th><td class='"+U+"'><div style='position:relative'>&nbsp;</div></td></tr>";xa(ta,ma("slotMinutes"));xb++}K+="</tbody></table>";S=o(K).appendTo(J);oa=S.find("div:first");u(S.find("td"));ia=ia.add(S.find("th:first"))}function q(){var n,U,K,D,ta=Ia(new Date);for(n=0;n<Da;n++){D=Z(n);U=t.eq(n);U.html(ya(D,Wb));K=z.eq(n);+D==+ta?K.addClass(Ya+"-state-highlight fc-today"):K.removeClass(Ya+"-state-highlight fc-today");ub(U.add(K),D)}}function h(n,U){if(n===sa)n=Xb;Xb=
n;yb={};var K=X.position().top,D=x.position().top;n=Math.min(n-K,S.height()+D+1);da.height(n-Ua(s));pa.css("top",K);x.height(n-D-1);Za=oa.height()+1;U&&r()}function d(n){Ca=n;fb.clear();Na=0;Xa(ia.width("").each(function(U,K){Na=Math.max(Na,o(K).outerWidth())}),Na);n=x[0].clientWidth;if(zb=x.width()-n){Xa(va,zb);va.show().prev().removeClass("fc-last")}else va.hide().prev().addClass("fc-last");gb=Math.floor((n-Na)/Da);Xa(t.slice(0,-1),gb)}function r(){function n(){x.scrollTop(D)}var U=Db(),K=G(U);
K.setHours(ma("firstHour"));var D=C(U,K)+1;n();setTimeout(n,0)}function O(){Yb=x.scrollTop()}function L(){x.scrollTop(Yb)}function R(n){n.click(B).mousedown(ga)}function u(n){n.click(B).mousedown(e)}function B(n){if(!ma("selectable")){var U=Math.min(Da-1,Math.floor((n.pageX-j.offset().left-Na)/gb)),K=Z(U),D=this.parentNode.className.match(/fc-slot(\d+)/);if(D){D=parseInt(D[1])*ma("slotMinutes");var ta=Math.floor(D/60);K.setHours(ta);K.setMinutes(D%60+Ma);y("dayClick",z[U],K,false,n)}else y("dayClick",
z[U],K,true,n)}}function la(n,U,K){K&&Oa.build();var D=G(E.visStart);if(Vb){K=Ba(U,D)*Ka+La+1;n=Ba(n,D)*Ka+La+1}else{K=Ba(n,D);n=Ba(U,D)}K=Math.max(0,K);n=Math.min(Da,n);K<n&&R(ea(0,K,0,n-1))}function ea(n,U,K,D){n=Oa.rect(n,U,K,D,pa);return H(n,pa)}function na(n,U){for(var K=G(E.visStart),D=ka(G(K),1),ta=0;ta<Da;ta++){var za=new Date(Math.max(K,n)),Fa=new Date(Math.min(D,U));if(za<Fa){var Ga=ta*Ka+La;Ga=Oa.rect(0,Ga,0,Ga,J);za=C(K,za);Fa=C(K,Fa);Ga.top=za;Ga.height=Fa-za;u(H(Ga,J))}ka(K,1);ka(D,
1)}}function T(n){return fb.left(n)}function N(n){return fb.right(n)}function V(n){return{row:Math.floor(Ba(n,E.visStart)/7),col:v(n.getDay())}}function aa(n){var U=Z(n.col);n=n.row;ma("allDaySlot")&&n--;n>=0&&xa(U,Ma+n*ma("slotMinutes"));return U}function Z(n){return ka(G(E.visStart),n*Ka+La)}function ja(n){return ma("allDaySlot")&&!n.row}function v(n){return(n-Math.max(Ub,Tb)+Da)%Da*Ka+La}function C(n,U){n=G(n,true);if(U<xa(G(n),Ma))return 0;if(U>=xa(G(n),eb))return S.height();n=ma("slotMinutes");
U=U.getHours()*60+U.getMinutes()-Ma;var K=Math.floor(U/n),D=yb[K];if(D===sa)D=yb[K]=S.find("tr:eq("+K+") td div")[0].offsetTop;return Math.max(0,Math.round(D-1+Za*(U%n/n)))}function ba(){return{left:Na,right:Ca-zb}}function W(){return ua}function w(n){var U=G(n.start);if(n.allDay)return U;return xa(U,ma("defaultEventMinutes"))}function p(n,U){if(U)return G(n);return xa(G(n),ma("slotMinutes"))}function I(n,U,K){if(K)ma("allDaySlot")&&la(n,ka(G(U),1),true);else Y(n,U)}function Y(n,U){var K=ma("selectHelper");
Oa.build();if(K){var D=Ba(n,E.visStart)*Ka+La;if(D>=0&&D<Da){D=Oa.rect(0,D,0,D,J);var ta=C(n,n),za=C(n,U);if(za>ta){D.top=ta;D.height=za-ta;D.left+=2;D.width-=5;if(o.isFunction(K)){if(n=K(n,U)){D.position="absolute";D.zIndex=8;wa=o(n).css(D).appendTo(J)}}else{D.isStart=true;D.isEnd=true;wa=o(fa({title:"",start:n,end:U,className:["fc-select-helper"],editable:false},D));wa.css("opacity",ma("dragOpacity"))}if(wa){u(wa);J.append(wa);Xa(wa,D.width,true);Hb(wa,D.height,true)}}}}else na(n,U)}function ca(){P();
if(wa){wa.remove();wa=null}}function e(n){if(n.which==1&&ma("selectable")){F(n);var U,K=ma("selectHelper");Ta.start(function(D,ta){ca();if(D&&(D.col==ta.col||!K)&&!ja(D)){ta=aa(ta);D=aa(D);U=[ta,xa(G(ta),ma("slotMinutes")),D,xa(G(D),ma("slotMinutes"))].sort(Jb);Y(U[0],U[3])}else U=null},n);o(document).one("mouseup",function(D){Ta.stop();if(U){+U[0]==+U[1]&&M(U[0],false,D);i(U[0],U[3],false,D)}})}}function M(n,U,K){y("dayClick",z[v(n.getDay())],n,U,K)}function A(n,U){Ta.start(function(K){P();if(K)if(ja(K))ea(K.row,
K.col,K.row,K.col);else{K=aa(K);var D=xa(G(K),ma("defaultEventMinutes"));na(K,D)}},U)}function ha(n,U,K){var D=Ta.stop();P();D&&y("drop",n,aa(D),ja(D),U,K)}var E=this;E.renderAgenda=c;E.setWidth=d;E.setHeight=h;E.beforeHide=O;E.afterShow=L;E.defaultEventEnd=w;E.timePosition=C;E.dayOfWeekCol=v;E.dateCell=V;E.cellDate=aa;E.cellIsAllDay=ja;E.allDayRow=W;E.allDayBounds=ba;E.getHoverListener=function(){return Ta};E.colContentLeft=T;E.colContentRight=N;E.getDaySegmentContainer=function(){return ra};E.getSlotSegmentContainer=
function(){return $};E.getMinMinute=function(){return Ma};E.getMaxMinute=function(){return eb};E.getBodyContent=function(){return J};E.getRowCnt=function(){return 1};E.getColCnt=function(){return Da};E.getColWidth=function(){return gb};E.getSlotHeight=function(){return Za};E.defaultSelectionEnd=p;E.renderDayOverlay=la;E.renderSelection=I;E.clearSelection=ca;E.reportDayClick=M;E.dragStart=A;E.dragStop=ha;db.call(E,a,b,g);Nb.call(E);Ob.call(E);tc.call(E);var ma=E.opt,y=E.trigger,Q=E.clearEvents,H=E.renderOverlay,
P=E.clearOverlays,i=E.reportSelection,F=E.unselect,ga=E.daySelectionMousedown,fa=E.slotSegHtml,ya=b.formatDate,j,m,t,X,z,l,s,da,pa,ra,qa,ua,x,J,$,S,oa,ia,va,wa,Ca,Xb,Na,gb,zb,Za,Yb,Da,xb,Oa,Ta,fb,yb={},Ya,Ub,Tb,Vb,Ka,La,Ma,eb,Wb;tb(a.addClass("fc-agenda"));Oa=new Pb(function(n,U){function K(hb){return Math.max(Ga,Math.min(uc,hb))}var D,ta,za;t.each(function(hb,vc){D=o(vc);ta=D.offset().left;if(hb)za[1]=ta;za=[ta];U[hb]=za});za[1]=ta+D.outerWidth();if(ma("allDaySlot")){D=ua;ta=D.offset().top;n[0]=
[ta,ta+D.outerHeight()]}for(var Fa=J.offset().top,Ga=x.offset().top,uc=Ga+x.outerHeight(),ib=0;ib<xb;ib++)n.push([K(Fa+Za*ib),K(Fa+Za*(ib+1))])});Ta=new Qb(Oa);fb=new Rb(function(n){return l.eq(n)})}function tc(){function a(j,m){N(j);var t,X=j.length,z=[],l=[];for(t=0;t<X;t++)j[t].allDay?z.push(j[t]):l.push(j[t]);if(B("allDaySlot")){Y(g(z),m);Z()}k(c(l),m);if(B("currentTimeIndicator")){window.clearInterval(ya);ya=window.setInterval(r,3E4);r()}}function b(){V();ja().empty();v().empty()}function g(j){j=
rb(qb(j,o.map(j,Wa),u.visStart,u.visEnd));var m,t=j.length,X,z,l,s=[];for(m=0;m<t;m++){X=j[m];for(z=0;z<X.length;z++){l=X[z];l.row=0;l.level=m;s.push(l)}}return s}function c(j){var m=e(),t=W(),X=ba(),z=xa(G(u.visStart),t),l=o.map(j,f),s,da,pa,ra,qa,ua,x=[];for(s=0;s<m;s++){da=rb(qb(j,l,z,xa(G(z),X-t)));wc(da);for(pa=0;pa<da.length;pa++){ra=da[pa];for(qa=0;qa<ra.length;qa++){ua=ra[qa];ua.col=s;ua.level=pa;x.push(ua)}}ka(z,1,true)}return x}function f(j){return j.end?G(j.end):xa(G(j.start),B("defaultEventMinutes"))}
function k(j,m){var t,X=j.length,z,l,s,da,pa,ra,qa,ua,x,J="",$,S,oa={},ia={},va=v(),wa;t=e();var Ca=t>1;if($=B("isRTL")){S=-1;wa=t-1}else{S=1;wa=0}for(t=0;t<X;t++){z=j[t];l=z.event;s=w(z.start,z.start);da=w(z.start,z.end);pa=z.col;ra=z.level;qa=z.forward||0;ua=p(pa*S+wa);x=I(pa*S+wa)-ua;x=Math.min(x-6,x*0.95);pa=ra?x/(ra+qa+1):qa?Ca?(x/(qa+1)-6)*2:(pa=x/(qa+1)):x;ra=ua+x/(ra+qa+1)*ra*S+($?x-pa:0);z.top=s;z.left=ra;z.outerWidth=pa-(Ca?0:1);z.outerHeight=da-s;J+=q(l,z)}va[0].innerHTML=J;$=va.children();
for(t=0;t<X;t++){z=j[t];l=z.event;J=o($[t]);S=la("eventRender",l,l,J);if(S===false)J.remove();else{if(S&&S!==true){J.remove();J=o(S).css({position:"absolute",top:z.top,left:z.left}).appendTo(va)}z.element=J;if(l._id===m)d(l,J,z);else J[0]._fci=t;E(l,J)}}Gb(va,j,d);for(t=0;t<X;t++){z=j[t];if(J=z.element){l=oa[m=z.key=Lb(J[0])];z.vsides=l===sa?(oa[m]=Ua(J,true)):l;l=ia[m];z.hsides=l===sa?(ia[m]=sb(J,true)):l;m=J.find("div.fc-event-content");if(m.length)z.contentTop=m[0].offsetTop}}for(t=0;t<X;t++){z=
j[t];if(J=z.element){J[0].style.width=Math.max(0,z.outerWidth-z.hsides)+"px";oa=Math.max(0,z.outerHeight-z.vsides);J[0].style.height=oa+"px";l=z.event;if(z.contentTop!==sa&&oa-z.contentTop<10){J.find("div.fc-event-time").text(ga(l.start,B("timeFormat"))+" - "+l.title);J.find("div.fc-event-title").remove()}la("eventAfterRender",l,l,J)}}}function q(j,m){var t="<",X=j.url,z=cb(j,B),l=z?" style='"+z+"'":"",s=["fc-event","fc-event-skin","fc-event-vert"];ea(j)&&s.push("fc-event-draggable");m.isStart&&s.push("fc-corner-top");
m.isEnd&&s.push("fc-corner-bottom");s=s.concat(j.className);if(j.source)s=s.concat(j.source.className||[]);t+=X?"a href='"+Ea(j.url)+"'":"div";t+=" class='"+s.join(" ")+"' style='position:absolute;z-index:8;top:"+m.top+"px;left:"+m.left+"px;"+z+"'><div class='fc-event-inner fc-event-skin'"+l+"><div class='fc-event-head fc-event-skin'"+l+"><div class='fc-event-time'>"+Ea(fa(j.start,j.end,B("timeFormat")))+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+Ea(j.title)+"</div></div><div class='fc-event-bg'></div></div>";
if(m.isEnd&&na(j))t+="<div class='ui-resizable-handle ui-resizable-s'>=</div>";t+="</"+(X?"a":"div")+">";return t}function h(j,m,t){ea(j)&&O(j,m,t.isStart);t.isEnd&&na(j)&&ca(j,m,t);aa(j,m)}function d(j,m,t){var X=m.find("div.fc-event-time");ea(j)&&L(j,m,X);t.isEnd&&na(j)&&R(j,m,X);aa(j,m)}function r(){var j=ha(),m=j.children(".fc-timeline");if(m.length==0)m=o("<hr>").addClass("fc-timeline").appendTo(j);var t=new Date;if(u.visStart<t&&u.visEnd>t){m.show();t=(t.getHours()*60*60+t.getMinutes()*60+t.getSeconds())/
86400;m.css("top",Math.floor(j.height()*t-1)+"px");if(u.name=="agendaWeek"){t=o(".fc-today",u.element);j=t.position().left+1;t=t.width();m.css({left:j+"px",width:t+"px"})}}else m.hide()}function O(j,m,t){function X(){if(!s){m.width(z).height("").draggable("option","grid",null);s=true}}var z,l,s=true,da,pa=B("isRTL")?-1:1,ra=C(),qa=M(),ua=A(),x=W();m.draggable({zIndex:9,opacity:B("dragOpacity","month"),revertDuration:B("dragRevertDuration"),start:function(J,$){la("eventDragStart",m,j,J,$);y(j,m);z=
m.width();ra.start(function(S,oa,ia,va){i();if(S){l=false;da=va*pa;if(S.row)if(t){if(s){m.width(qa-10);Hb(m,ua*Math.round((j.end?(j.end-j.start)/xc:B("defaultEventMinutes"))/B("slotMinutes")));m.draggable("option","grid",[qa,1]);s=false}}else l=true;else{P(ka(G(j.start),da),ka(Wa(j),da));X()}l=l||s&&!da}else{X();l=true}m.draggable("option","revert",l)},J,"drag")},stop:function(J,$){ra.stop();i();la("eventDragStop",m,j,J,$);if(l){X();m.css("filter","");ma(j,m)}else{var S=0;s||(S=Math.round((m.offset().top-
ha().offset().top)/ua)*B("slotMinutes")+x-(j.start.getHours()*60+j.start.getMinutes()));Q(this,j,da,S,s,J,$)}}})}function L(j,m,t){function X(S){var oa=xa(G(j.start),S),ia;if(j.end)ia=xa(G(j.end),S);t.text(fa(oa,ia,B("timeFormat")))}function z(){if(s){t.css("display","");m.draggable("option","grid",[J,$]);s=false}}var l,s=false,da,pa,ra,qa=B("isRTL")?-1:1,ua=C(),x=e(),J=M(),$=A();m.draggable({zIndex:9,scroll:false,grid:[J,$],axis:x==1?"y":false,opacity:B("dragOpacity"),revertDuration:B("dragRevertDuration"),
start:function(S,oa){la("eventDragStart",m,j,S,oa);y(j,m);l=m.position();pa=ra=0;ua.start(function(ia,va,wa,Ca){m.draggable("option","revert",!ia);i();if(ia){da=Ca*qa;if(B("allDaySlot")&&!ia.row){if(!s){s=true;t.hide();m.draggable("option","grid",null)}P(ka(G(j.start),da),ka(Wa(j),da))}else z()}},S,"drag")},drag:function(S,oa){pa=Math.round((oa.position.top-l.top)/$)*B("slotMinutes");if(pa!=ra){s||X(pa);ra=pa}},stop:function(S,oa){var ia=ua.stop();i();la("eventDragStop",m,j,S,oa);if(ia&&(da||pa||
s))Q(this,j,da,s?0:pa,s,S,oa);else{z();m.css("filter","");m.css(l);X(0);ma(j,m)}}})}function R(j,m,t){var X,z,l=A();m.resizable({handles:{s:"div.ui-resizable-s"},grid:l,start:function(s,da){X=z=0;y(j,m);m.css("z-index",9);la("eventResizeStart",this,j,s,da)},resize:function(s,da){X=Math.round((Math.max(l,m.height())-da.originalSize.height)/l);if(X!=z){t.text(fa(j.start,!X&&!j.end?null:xa(T(j),B("slotMinutes")*X),B("timeFormat")));z=X}},stop:function(s,da){la("eventResizeStop",this,j,s,da);if(X)H(this,
j,0,B("slotMinutes")*X,s,da);else{m.css("z-index",8);ma(j,m)}}})}var u=this;u.renderEvents=a;u.compileDaySegs=g;u.clearEvents=b;u.slotSegHtml=q;u.bindDaySeg=h;wb.call(u);var B=u.opt,la=u.trigger,ea=u.isEventDraggable,na=u.isEventResizable,T=u.eventEnd,N=u.reportEvents,V=u.reportEventClear,aa=u.eventElementHandlers,Z=u.setHeight,ja=u.getDaySegmentContainer,v=u.getSlotSegmentContainer,C=u.getHoverListener,ba=u.getMaxMinute,W=u.getMinMinute,w=u.timePosition,p=u.colContentLeft,I=u.colContentRight,Y=u.renderDaySegs,
ca=u.resizableDayEvent,e=u.getColCnt,M=u.getColWidth,A=u.getSlotHeight,ha=u.getBodyContent,E=u.reportEventElement,ma=u.showEvents,y=u.hideEvents,Q=u.eventDrop,H=u.eventResize,P=u.renderDayOverlay,i=u.clearOverlays,F=u.calendar,ga=F.formatDate,fa=F.formatDates,ya}function wc(a){var b,g,c,f,k,q;for(b=a.length-1;b>0;b--){f=a[b];for(g=0;g<f.length;g++){k=f[g];for(c=0;c<a[b-1].length;c++){q=a[b-1][c];if(Fb(k,q))q.forward=Math.max(q.forward||0,(k.forward||0)+1)}}}}function db(a,b,g){function c(w,p){w=W[w];
if(typeof w=="object"&&!w.length)return mb(w,p||g);return w}function f(w,p){return b.trigger.apply(b,[w,p||V].concat(Array.prototype.slice.call(arguments,2),[V]))}function k(w){return h(w)&&!c("disableDragging")}function q(w){return h(w)&&!c("disableResizing")}function h(w){return Va(w.editable,(w.source||{}).editable,c("editable"))}function d(w){v={};var p,I=w.length,Y;for(p=0;p<I;p++){Y=w[p];if(v[Y._id])v[Y._id].push(Y);else v[Y._id]=[Y]}}function r(w){return w.end?G(w.end):aa(w)}function O(w,p){C.push(p);
if(ba[w._id])ba[w._id].push(p);else ba[w._id]=[p]}function L(){C=[];ba={}}function R(w,p){p.click(function(I){if(!p.hasClass("ui-draggable-dragging")&&!p.hasClass("ui-resizable-resizing"))return f("eventClick",this,w,I)}).hover(function(I){f("eventMouseover",this,w,I)},function(I){f("eventMouseout",this,w,I)})}function u(w,p){la(w,p,"show")}function B(w,p){la(w,p,"hide")}function la(w,p,I){w=ba[w._id];var Y,ca=w.length;for(Y=0;Y<ca;Y++)if(!p||w[Y][0]!=p[0])w[Y][I]()}function ea(w,p,I,Y,ca,e,M){var A=
p.allDay,ha=p._id;T(v[ha],I,Y,ca);f("eventDrop",w,p,I,Y,ca,function(){T(v[ha],-I,-Y,A);ja(ha)},e,M);ja(ha)}function na(w,p,I,Y,ca,e){var M=p._id;N(v[M],I,Y);f("eventResize",w,p,I,Y,function(){N(v[M],-I,-Y);ja(M)},ca,e);ja(M)}function T(w,p,I,Y){I=I||0;for(var ca,e=w.length,M=0;M<e;M++){ca=w[M];if(Y!==sa)ca.allDay=Y;xa(ka(ca.start,p,true),I);if(ca.end)ca.end=xa(ka(ca.end,p,true),I);Z(ca,W)}}function N(w,p,I){I=I||0;for(var Y,ca=w.length,e=0;e<ca;e++){Y=w[e];Y.end=xa(ka(r(Y),p,true),I);Z(Y,W)}}var V=
this;V.element=a;V.calendar=b;V.name=g;V.opt=c;V.trigger=f;V.isEventDraggable=k;V.isEventResizable=q;V.reportEvents=d;V.eventEnd=r;V.reportEventElement=O;V.reportEventClear=L;V.eventElementHandlers=R;V.showEvents=u;V.hideEvents=B;V.eventDrop=ea;V.eventResize=na;var aa=V.defaultEventEnd,Z=b.normalizeEvent,ja=b.reportEventChange,v={},C=[],ba={},W=b.options}function wb(){function a(y,Q){var H=e(),P=v(),i=C(),F=0,ga,fa,ya=y.length,j,m,t,X,z=la("maxHeight");H[0].innerHTML=c(y);f(y,H.children());k(y);q(y,
H,Q);h(y);d(y);r(y);Q=O();for(H=0;H<P;H++){t=[];X={};ga=[];for(fa=0;fa<i;fa++){t[fa]=0;ga[fa]=0}for(;F<ya&&(j=y[F]).row==H;){fa=Kb(ga.slice(j.startCol,j.endCol));if(z&&fa+j.outerHeight>z)j.overflow=true;else{j.top=fa;fa+=j.outerHeight}for(m=j.startCol;m<j.endCol;m++){if(t[m])j.overflow=true;if(j.overflow){if(j.isStart&&!X[m])X[m]={seg:j,top:fa,date:G(j.start,true),count:0};X[m]&&X[m].count++;t[m]++}else ga[m]=fa}F++}Q[H].height(Kb(ga));b(X,Q[H])}R(y,L(Q))}function b(y,Q){for(var H=e(),P=C(),i,F,ga=
0;ga<P;ga++)if(F=y[ga])if(F.count>1){i=o("<a>").addClass("fc-more-link").html("+"+F.count).appendTo(H);i[0].style.position="absolute";i[0].style.left=F.seg.left+"px";i[0].style.top=F.top+Q[0].offsetTop+"px";F=ea("overflowRender",F,{count:F.count,date:F.date},i);F===false&&i.remove()}else{F.seg.top=F.top;F.seg.overflow=false}}function g(y,Q,H){var P=o("<div/>"),i=e(),F=y.length,ga;P[0].innerHTML=c(y);P=P.children();i.append(P);f(y,P);h(y);d(y);r(y);R(y,L(O()));P=[];for(i=0;i<F;i++)if(ga=y[i].element){y[i].row===
Q&&ga.css("top",H);P.push(ga[0])}return o(P)}function c(y){var Q=la("isRTL"),H,P=y.length,i,F,ga,fa;H=W();var ya=H.left,j=H.right,m,t,X,z,l,s="";for(H=0;H<P;H++){i=y[H];F=i.event;fa=["fc-event","fc-event-skin","fc-event-hori"];na(F)&&fa.push("fc-event-draggable");if(Q){i.isStart&&fa.push("fc-corner-right");i.isEnd&&fa.push("fc-corner-left");m=I(i.end.getDay()-1);t=I(i.start.getDay());X=i.isEnd?w(m):ya;z=i.isStart?p(t):j}else{i.isStart&&fa.push("fc-corner-left");i.isEnd&&fa.push("fc-corner-right");
m=I(i.start.getDay());t=I(i.end.getDay()-1);X=i.isStart?w(m):ya;z=i.isEnd?p(t):j}fa=fa.concat(F.className);if(F.source)fa=fa.concat(F.source.className||[]);ga=F.url;l=cb(F,la);s+=ga?"<a href='"+Ea(ga)+"'":"<div";s+=" class='"+fa.join(" ")+"' style='position:absolute;z-index:8;left:"+X+"px;"+l+"'><div class='fc-event-inner fc-event-skin'"+(l?" style='"+l+"'":"")+">";if(!F.allDay&&i.isStart)s+="<span class='fc-event-time'>"+Ea(A(F.start,F.end,la("timeFormat")))+"</span>";s+="<span class='fc-event-title'>"+
Ea(F.title)+"</span></div>";if(i.isEnd&&T(F))s+="<div class='ui-resizable-handle ui-resizable-"+(Q?"w":"e")+"'>&nbsp;&nbsp;&nbsp;</div>";s+="</"+(ga?"a":"div")+">";i.left=X;i.outerWidth=z-X;i.startCol=m;i.endCol=t+1}return s}function f(y,Q){var H,P=y.length,i,F,ga;for(H=0;H<P;H++){i=y[H];F=i.event;ga=o(Q[H]);F=ea("eventRender",F,F,ga);if(F===false)ga.remove();else{if(F&&F!==true){F=o(F).css({position:"absolute",left:i.left});ga.replaceWith(F);ga=F}i.element=ga}}}function k(y){var Q,H=y.length,P,i;
for(Q=0;Q<H;Q++){P=y[Q];(i=P.element)&&V(P.event,i)}}function q(y,Q,H){var P,i=y.length,F,ga,fa;for(P=0;P<i;P++){F=y[P];if(ga=F.element){fa=F.event;if(fa._id===H)M(fa,ga,F);else ga[0]._fci=P}}Gb(Q,y,M)}function h(y){var Q,H=y.length,P,i,F,ga,fa={};for(Q=0;Q<H;Q++){P=y[Q];if(i=P.element){F=P.key=Lb(i[0]);ga=fa[F];if(ga===sa)ga=fa[F]=sb(i,true);P.hsides=ga}}}function d(y){var Q,H=y.length,P,i;for(Q=0;Q<H;Q++){P=y[Q];if(i=P.element)i[0].style.width=Math.max(0,P.outerWidth-P.hsides)+"px"}}function r(y){var Q,
H=y.length,P,i,F,ga,fa={};for(Q=0;Q<H;Q++){P=y[Q];if(i=P.element){F=P.key;ga=fa[F];if(ga===sa)ga=fa[F]=Ib(i);P.outerHeight=i[0].offsetHeight+ga}else P.outerHeight=0}}function O(){var y,Q=v(),H=[];for(y=0;y<Q;y++)H[y]=ba(y).find("td:first div.fc-day-content > div");return H}function L(y){var Q,H=y.length,P=[];for(Q=0;Q<H;Q++)P[Q]=y[Q][0].offsetTop;return P}function R(y,Q){var H,P=y.length,i,F;for(H=0;H<P;H++){i=y[H];if((F=i.element)&&!i.overflow){F[0].style.top=Q[i.row]+(i.top||0)+"px";i=i.event;ea("eventAfterRender",
i,i,F)}else F&&F.hide()}}function u(y,Q,H){var P=la("isRTL"),i=P?"w":"e",F=Q.find("div.ui-resizable-"+i),ga=false;tb(Q);Q.mousedown(function(fa){fa.preventDefault()}).click(function(fa){if(ga){fa.preventDefault();fa.stopImmediatePropagation()}});F.mousedown(function(fa){function ya(qa){ea("eventResizeStop",this,y,qa);o("body").css("cursor","");j.stop();E();s&&ja(this,y,s,0,qa);setTimeout(function(){ga=false},0)}if(fa.which==1){ga=true;var j=B.getHoverListener(),m=v(),t=C(),X=P?-1:1,z=P?t-1:0,l=Q.css("top"),
s,da,pa=o.extend({},y),ra=Y(y.start);ma();o("body").css("cursor",i+"-resize").one("mouseup",ya);ea("eventResizeStart",this,y,fa);j.start(function(qa,ua){if(qa){var x=Math.max(ra.row,qa.row);qa=qa.col;if(m==1)x=0;if(x==ra.row)qa=P?Math.min(ra.col,qa):Math.max(ra.col,qa);s=x*7+qa*X+z-(ua.row*7+ua.col*X+z);ua=ka(N(y),s,true);if(s){pa.end=ua;x=da;da=g(ca([pa]),H.row,l);da.find("*").css("cursor",i+"-resize");x&&x.remove();Z(y)}else if(da){aa(y);da.remove();da=null}E();ha(y.start,ka(G(ua),1))}},fa)}})}
var B=this;B.renderDaySegs=a;B.resizableDayEvent=u;var la=B.opt,ea=B.trigger,na=B.isEventDraggable,T=B.isEventResizable,N=B.eventEnd,V=B.reportEventElement,aa=B.showEvents,Z=B.hideEvents,ja=B.eventResize,v=B.getRowCnt,C=B.getColCnt,ba=B.allDayRow,W=B.allDayBounds,w=B.colContentLeft,p=B.colContentRight,I=B.dayOfWeekCol,Y=B.dateCell,ca=B.compileDaySegs,e=B.getDaySegmentContainer,M=B.bindDaySeg,A=B.calendar.formatDates,ha=B.renderDayOverlay,E=B.clearOverlays,ma=B.clearSelection}function Ob(){function a(L,
R,u){b();R||(R=h(L,u));d(L,R,u);g(L,R,u)}function b(L){if(O){O=false;r();q("unselect",null,L)}}function g(L,R,u,B){O=true;q("select",null,L,R,u,B)}function c(L){var R=f.cellDate,u=f.cellIsAllDay,B=f.getHoverListener(),la=f.reportDayClick;if(L.which==1&&k("selectable")){b(L);var ea;B.start(function(na,T){r();if(na&&u(na)){ea=[R(T),R(na)].sort(Jb);d(ea[0],ea[1],true)}else ea=null},L);o(document).one("mouseup",function(na){B.stop();if(ea){+ea[0]==+ea[1]&&la(ea[0],true,na);g(ea[0],ea[1],true,na)}})}}
var f=this;f.select=a;f.unselect=b;f.reportSelection=g;f.daySelectionMousedown=c;var k=f.opt,q=f.trigger,h=f.defaultSelectionEnd,d=f.renderSelection,r=f.clearSelection,O=false;k("selectable")&&k("unselectAuto")&&o(document).mousedown(function(L){var R=k("unselectCancel");if(R)if(o(L.target).parents(R).length)return;b(L)})}function Nb(){function a(k,q){var h=f.shift();h||(h=o("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>"));h[0].parentNode!=q[0]&&h.appendTo(q);c.push(h.css(k).show());
return h}function b(){for(var k;k=c.shift();)f.push(k.hide().unbind())}var g=this;g.renderOverlay=a;g.clearOverlays=b;var c=[],f=[]}function Pb(a){var b=this,g,c;b.build=function(){g=[];c=[];a(g,c)};b.cell=function(f,k){var q=g.length,h=c.length,d,r=-1,O=-1;for(d=0;d<q;d++)if(k>=g[d][0]&&k<g[d][1]){r=d;break}for(d=0;d<h;d++)if(f>=c[d][0]&&f<c[d][1]){O=d;break}return r>=0&&O>=0?{row:r,col:O}:null};b.rect=function(f,k,q,h,d){d=d.offset();return{top:g[f][0]-d.top,left:c[k][0]-d.left,width:c[h][1]-c[k][0],
height:g[q][1]-g[f][0]}}}function Qb(a){function b(h){yc(h);h=a.cell(h.pageX,h.pageY);if(!h!=!q||h&&(h.row!=q.row||h.col!=q.col)){if(h){k||(k=h);f(h,k,h.row-k.row,h.col-k.col)}else f(h,k);q=h}}var g=this,c,f,k,q;g.start=function(h,d,r){f=h;k=q=null;a.build();b(d);c=r||"mousemove";o(document).bind(c,b)};g.stop=function(){o(document).unbind(c,b);return q}}function yc(a){if(a.pageX===sa){a.pageX=a.originalEvent.pageX;a.pageY=a.originalEvent.pageY}}function Rb(a){function b(q){return c[q]=c[q]||a(q)}
var g=this,c={},f={},k={};g.left=function(q){return f[q]=f[q]===sa?b(q).position().left:f[q]};g.right=function(q){return k[q]=k[q]===sa?g.left(q)+b(q).width():k[q]};g.clear=function(){c={};f={};k={}}}function Zb(){function a(){L();B().empty()}function b(T,N){T.sort(c);O(T);f(g(T),N)}function g(T){var N=[],V=d("titleFormat","day"),aa=d("firstDay"),Z=d("listSections"),ja,v,C,ba,W,w,p,I=-1,Y=Ia(new Date),ca=ka(G(Y),-((Y.getDay()-aa+7)%7));for(ja=0;ja<T.length;ja++){aa=T[ja];if(!(aa.end<h.start||aa.start>
h.visEnd)){p=G(aa.start<h.start&&aa.end>h.start?h.start:aa.start,true);v=Ba(p,Y);C=Math.floor(Ba(p,ca)/7);ba=p.getMonth()+(p.getYear()-Y.getYear())*12-Y.getMonth();if(Z=="smart")if(v<0)W=d("listTexts","past");else if(v==0)W=d("listTexts","today");else if(v==1)W=d("listTexts","tomorrow");else if(C==0)W=d("listTexts","thisWeek");else if(C==1)W=d("listTexts","nextWeek");else if(ba==0)W=d("listTexts","thisMonth");else if(ba==1)W=d("listTexts","nextMonth");else{if(ba>1)W=d("listTexts","future")}else W=
Z=="month"?ea(p,"MMMM yyyy"):Z=="week"?d("listTexts","week")+ea(p," W"):Z=="day"?ea(p,V):"";if(W!=w){N[++I]={events:[],start:p,title:W,daydiff:v,weekdiff:C,monthdiff:ba};w=W}N[I].events.push(aa)}}return N}function c(T,N){var V=T.start.getTime()-N.start.getTime();return V+(V?0:T.end.getTime()-N.end.getTime())}function f(T,N){var V=d("theme")?"ui":"fc",aa=V+"-widget-header";V=V+"-widget-content";var Z,ja,v,C,ba,W,w,p,I;for(ja=0;ja<T.length;ja++){v=T[ja];v.title&&o('<div class="fc-list-header '+aa+'">'+
Ea(v.title)+"</div>").appendTo(B());I=o("<div>").addClass("fc-list-section "+V).appendTo(B());W="";for(Z=0;Z<v.events.length;Z++){C=v.events[Z];ba=k(C,v);w=(w=cb(C,d))?" style='"+w+"'":"";p=["fc-event","fc-event-skin","fc-event-vert","fc-corner-top","fc-corner-bottom"].concat(C.className);if(C.source&&C.source.className)p=p.concat(C.source.className);W+="<div class='"+p.join(" ")+"'"+w+"><div class='fc-event-inner fc-event-skin'"+w+"><div class='fc-event-head fc-event-skin'"+w+"><div class='fc-event-time'>"+
(ba[0]?'<span class="fc-col-date">'+ba[0]+"</span> ":"")+(ba[1]?'<span class="fc-col-time">'+ba[1]+"</span>":"")+"</div></div><div class='fc-event-content'><div class='fc-event-title'>"+Ea(C.title)+"</div></div><div class='fc-event-bg'></div></div></div>"}I[0].innerHTML=W;W=I.children();for(Z=0;Z<v.events.length;Z++){C=v.events[Z];ba=o(W[Z]);w=r("eventRender",C,C,ba);if(w===false)ba.remove();else{if(w&&w!==true){ba.remove();ba=o(w).appendTo(I)}if(C._id===N)u(C,ba,v);else ba[0]._fci=Z;R(C,ba)}}q(I,
v,u)}Sa(B())}function k(T,N){var V=d("timeFormat"),aa=d("columnFormat"),Z=d("listSections"),ja=T.end.getTime()-T.start.getTime(),v="",C="";if(Z=="smart")if(T.start<N.start)v=d("listTexts","until")+" "+ea(T.end,T.allDay||T.end.getDate()!=N.start.getDate()?aa:V);else if(ja>Qa)v=na(T.start,T.end,aa+"{ - "+aa+"}");else if(N.daydiff==0)v=d("listTexts","today");else if(N.daydiff==1)v=d("listTexts","tomorrow");else if(N.weekdiff==0||N.weekdiff==1)v=ea(T.start,"dddd");else{if(N.daydiff>1||N.daydiff<0)v=ea(T.start,
aa)}else if(Z!="day")v=na(T.start,T.end,aa+(ja>Qa?"{ - "+aa+"}":""));if(!v&&T.allDay)C=d("allDayText");else if((ja<Qa||!v)&&!T.allDay)C=na(T.start,T.end,V);return[v,C]}function q(T,N,V){T.unbind("mouseover").mouseover(function(aa){for(var Z=aa.target,ja=Z;Z!=this;){ja=Z;Z=Z.parentNode}if((Z=ja._fci)!==sa){ja._fci=sa;ja=N.events[Z];V(ja,T.children().eq(Z),N);o(aa.target).trigger(aa)}aa.stopPropagation()})}var h=this;h.renderEvents=b;h.renderEventTime=k;h.compileDaySegs=g;h.clearEvents=a;h.lazySegBind=
q;h.sortCmp=c;wb.call(h);var d=h.opt,r=h.trigger,O=h.reportEvents,L=h.reportEventClear,R=h.reportEventElement,u=h.eventElementHandlers,B=h.getDaySegmentContainer,la=h.calendar,ea=la.formatDate,na=la.formatDates}function zc(a,b){function g(na,T){T&&ka(na,r("listPage")*T);d.start=d.visStart=G(na,true);d.end=ka(G(d.start),r("listPage"));d.visEnd=ka(G(d.start),r("listRange"));xa(d.visEnd,-1);d.title=L(na,d.visEnd,r("titleFormat"));c();R?O():f()}function c(){u=r("firstDay");B=r("weekends")?0:1;la=r("theme")?
"ui":"fc";ea=r("columnFormat","day")}function f(){R=o("<div>").addClass("fc-list-content").appendTo(a)}function k(na){r("listNoHeight")||R.css("height",na-1+"px").css("overflow","auto")}function q(){}function h(){}var d=this;d.render=g;d.select=h;d.unselect=h;d.getDaySegmentContainer=function(){return R};db.call(d,a,b,"list");Zb.call(d);var r=d.opt,O=d.clearEvents,L=b.formatDates;d.setWidth=q;d.setHeight=k;var R,u,B,la,ea}function Ac(){function a(){r();u().children("tbody").remove()}function b(la,
ea){la.sort(k);d(la);g(h(la),ea);u().removeClass("fc-list-smart fc-list-day fc-list-month fc-list-week").addClass("fc-list-"+f("listSections"))}function g(la,ea){var na=f("theme")?"ui":"fc",T=u(),N=na+"-widget-header";na=na+"-widget-content";var V=f("tableCols"),aa=o.inArray("time",V)>=0,Z,ja,v,C,ba,W,w,p,I,Y;for(ja=0;ja<la.length;ja++){v=la[ja];v.title&&o('<tbody class="fc-list-header"><tr><td class="fc-list-header '+N+'" colspan="'+V.length+'">'+Ea(v.title)+"</td></tr></tbody>").appendTo(T);Y=o("<tbody>").addClass("fc-list-section "+
na).appendTo(T);W="";for(Z=0;Z<v.events.length;Z++){C=v.events[Z];ba=R(C,v);w=(w=cb(C,f))?" style='"+w+"'":"";p=["fc-event-skin","fc-corner-left","fc-corner-right","fc-corner-top","fc-corner-bottom"].concat(C.className);if(C.source&&C.source.className)p=p.concat(C.source.className);I=["fc-event","fc-event-row","fc-"+Mb[C.start.getDay()]];v.daydiff==0&&I.push("fc-today");W+="<tr class='"+I.join(" ")+"'>";for(var ca=0;ca<V.length;ca++){I=V[ca];if(I=="handle")W+="<td class='fc-event-handle'><div class='"+
p.join(" ")+"'"+w+"><span class='fc-event-inner'></span></div></td>";else if(I=="date")W+="<td class='fc-event-date' colspan='"+(ba[1]||!aa?1:2)+"'>"+Ea(ba[0])+"</td>";else if(I=="time"){if(ba[1])W+="<td class='fc-event-time'>"+Ea(ba[1])+"</td>"}else W+="<td class='fc-event-"+I+"'>"+(C[I]?Ea(C[I]):"&nbsp;")+"</td>"}W+="</tr>";if(document.all){o(W).appendTo(Y);W=""}}if(!document.all)Y[0].innerHTML=W;ba=Y.children();for(Z=0;Z<v.events.length;Z++){C=v.events[Z];W=o(ba[Z]);w=q("eventRender",C,C,W);if(w===
false)W.remove();else{if(w&&w!==true){W.remove();W=o(w).appendTo(Y)}if(C._id===ea)L(C,W,v);else W[0]._fci=Z;O(C,W)}}B(Y,v,L);Sa(Y)}}var c=this;Zb.call(c);var f=c.opt,k=c.sortCmp,q=c.trigger,h=c.compileDaySegs,d=c.reportEvents,r=c.reportEventClear,O=c.reportEventElement,L=c.eventElementHandlers,R=c.renderEventTime,u=c.getDaySegmentContainer,B=c.lazySegBind;c.renderEvents=b;c.clearEvents=a}function Bc(a,b){function g(N,V){V&&ka(N,r("listPage")*V);d.start=d.visStart=G(N,true);d.end=ka(G(d.start),r("listPage"));
d.visEnd=ka(G(d.start),r("listRange"));xa(d.visEnd,-1);d.title=d.visEnd.getTime()-d.visStart.getTime()<Qa?R(N,r("titleFormat")):L(N,d.visEnd,r("titleFormat"));c();B?O():f()}function c(){la=r("firstDay");ea=r("weekends")?0:1;na=r("theme")?"ui":"fc";T=r("columnFormat")}function f(){for(var N=r("tableCols"),V="<table class='fc-border-separate' style='width:100%' cellspacing='0'><colgroup>",aa=0;aa<N.length;aa++)V+="<col class='fc-event-"+N[aa]+"' />";V+="</colgroup></table>";u=o("<div>").addClass("fc-list-content").appendTo(a);
B=o(V).appendTo(u)}function k(N){r("listNoHeight")||u.css("height",N-1+"px").css("overflow","auto")}function q(){}function h(){}var d=this;d.render=g;d.select=h;d.unselect=h;d.getDaySegmentContainer=function(){return B};db.call(d,a,b,"table");Ac.call(d);var r=d.opt,O=d.clearEvents,L=b.formatDates,R=b.formatDate;d.setWidth=q;d.setHeight=k;var u,B,la,ea,na,T}var $a={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:true,currentTimeIndicator:false,
allDayDefault:true,ignoreTimezone:true,lazyFetching:true,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy",list:"MMM d, yyyy",table:"MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d",list:"dddd, MMM d, yyyy",table:"MMM d, yyyy"},timeFormat:{"":"h(:mm)t"},isRTL:false,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],
monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"&nbsp;&#9668;&nbsp;",next:"&nbsp;&#9658;&nbsp;",prevYear:"&nbsp;&lt;&lt;&nbsp;",nextYear:"&nbsp;&gt;&gt;&nbsp;",today:"today",month:"month",week:"week",day:"day",list:"list",table:"table"},listTexts:{until:"until",past:"Past events",today:"Today",tomorrow:"Tomorrow",
thisWeek:"This week",nextWeek:"Next week",thisMonth:"This month",nextMonth:"Next month",future:"Future events",week:"W"},listSections:"month",listRange:30,listPage:7,tableCols:["handle","date","time","title"],theme:false,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:true,dropAccept:"*"},Cc={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"&nbsp;&#9658;&nbsp;",next:"&nbsp;&#9668;&nbsp;",prevYear:"&nbsp;&gt;&gt;&nbsp;",nextYear:"&nbsp;&lt;&lt;&nbsp;"},
buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},Aa=o.fullCalendar={version:"1.5.3-rcube-0.7.1"},Ha=Aa.views={};o.fn.fullCalendar=function(a){if(typeof a=="string"){var b=Array.prototype.slice.call(arguments,1),g;this.each(function(){var f=o.data(this,"fullCalendar");if(f&&o.isFunction(f[a])){f=f[a].apply(f,b);if(g===sa)g=f;a=="destroy"&&o.removeData(this,"fullCalendar")}});if(g!==sa)return g;return this}var c=a.eventSources||[];delete a.eventSources;if(a.events){c.push(a.events);
delete a.events}a=o.extend(true,{},$a,a.isRTL||a.isRTL===sa&&$a.isRTL?Cc:{},a);this.each(function(f,k){f=o(k);k=new $b(f,a,c);f.data("fullCalendar",k);k.render()});return this};Aa.sourceNormalizers=[];Aa.sourceFetchers=[];var cc={dataType:"json",cache:false},dc=1;Aa.addDays=ka;Aa.cloneDate=G;Aa.parseDate=nb;Aa.parseISO8601=Eb;Aa.parseTime=pb;Aa.formatDate=Pa;Aa.formatDates=lb;var Mb=["sun","mon","tue","wed","thu","fri","sat"],Qa=864E5,ec=36E5,xc=6E4,fc={s:function(a){return a.getSeconds()},ss:function(a){return Ra(a.getSeconds())},
m:function(a){return a.getMinutes()},mm:function(a){return Ra(a.getMinutes())},h:function(a){return a.getHours()%12||12},hh:function(a){return Ra(a.getHours()%12||12)},H:function(a){return a.getHours()},HH:function(a){return Ra(a.getHours())},d:function(a){return a.getDate()},dd:function(a){return Ra(a.getDate())},ddd:function(a,b){return b.dayNamesShort[a.getDay()]},dddd:function(a,b){return b.dayNames[a.getDay()]},M:function(a){return a.getMonth()+1},MM:function(a){return Ra(a.getMonth()+1)},MMM:function(a,
b){return b.monthNamesShort[a.getMonth()]},MMMM:function(a,b){return b.monthNames[a.getMonth()]},yy:function(a){return(a.getFullYear()+"").substring(2)},yyyy:function(a){return a.getFullYear()},t:function(a){return a.getHours()<12?"a":"p"},tt:function(a){return a.getHours()<12?"am":"pm"},T:function(a){return a.getHours()<12?"A":"P"},TT:function(a){return a.getHours()<12?"AM":"PM"},u:function(a){return Pa(a,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(a){a=a.getDate();if(a>10&&a<20)return"th";return["st",
"nd","rd"][a%10-1]||"th"},W:function(a){return Dc(a)}},Dc=function(a){a=G(a);a.setDate(a.getDate()+4-(a.getDay()||7));var b=a.getTime();a.setMonth(0);a.setDate(1);return Math.floor(Math.round((b-a)/864E5)/7)+1};Aa.applyAll=bb;Ha.month=nc;Ha.basicWeek=oc;Ha.basicDay=pc;Ab({weekMode:"fixed"});Ha.agendaWeek=rc;Ha.agendaDay=sc;Ab({allDaySlot:true,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:0.5},minTime:0,
maxTime:24});Ha.list=zc;Ha.table=Bc})(jQuery);
